/** https://github.com/martinkr/jStorage - Copyright (c) 2010-2011 Martin Krause - Dual licensed under the MIT and GPL licenses. */
(function(a){a.storage=function(){var d={localStorage:("localStorage" in window&&window.localStorage!==null)?"localStorage":"cookie",sessionStorage:("sessionStorage" in window&&window.sessionStorage!==null)?"sessionStorage":"cookie",cookie:"cookie",data:"data",status:"status",options:"options"};var c={sType:"data"};var g=function(){if(!jQuery.jCookie){throw new Error("[jQuery.storage] missing jQuery.jCookie. Get jcookie.min.js from https://github.com/martinkr/jCookie/")}if(!JSON){throw new Error("[jQuery.storage] missing JSON parser. Get json2.js from https://github.com/douglascrockford/JSON-js and / or visit json.org ")}}();var f=function(h,i){if(typeof(h)=="object"&&!h.type){h.type=c.sType}var j=typeof(h)=="string"?h:h.type;if(j.indexOf("Storage")!==-1&&d[j]=="cookie"){h.expires=(j=="sessionStorage")?"session":365}if(i){c.sType=d[j]}return{sType:d[j],sName:h.name||null,expires:h.expires||"session",secure:h.secure?true:false,path:h.path?h.path:false,domain:h.domain?h.domain:false}};var e=function(l,h){var i=f(h);var j=i.sType;switch(j){case"options":return c[l];case"status":return d[l];case"data":if(jQuery(window).data("jStorage")===undefined){return undefined}return jQuery(window).data("jStorage")[l];case"cookie":var k=jQuery.jCookie(l);if(k){return JSON.parse(jQuery.jCookie(l))}else{return k}case"sessionStorage":case"localStorage":return window[j].getItem(l)}return undefined};var b=function(n,j,h){var m=(j===null)?false:true;var i=f(h||{type:c.sType},m);var l=i.sType;switch(l){case"data":var k=jQuery(window).data("jStorage")||{};if(j===null){return delete (k[n])}k[n]=j;jQuery(window).data("jStorage",k);return true;case"cookie":if(j===null){jQuery.jCookie(n,null);return true}jQuery.jCookie(n,JSON.stringify(j),i.expires,i);return true;case"sessionStorage":case"localStorage":if(j===null){window[l].removeItem(n);return true}window[l].setItem(n,j);return true}return false};return{getItem:function(i,h){return e(i,h)},setItem:function(j,i,h){b(j,i,h)},removeItem:function(i,h){b(i,null,h)}}}()})(jQuery);